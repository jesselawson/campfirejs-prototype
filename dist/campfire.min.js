/* CampfireJS by Jesse Lawson (v0.1.0-6-gf19b14a)*/
const DEBUG=!0;function Log(a){DEBUG&&console.log("[ Campfire.js ] "+a)}function Campfire(){return this.triggers=[],this.switches=[],__getTriggers=()=>this.triggers,onLoadCallback=function(){},_onLoad=()=>{"complete"!==document.readyState&&("loading"===document.readyState||document.documentElement.doScroll)?document.addEventListener("DOMContentLoaded",this.onLoadCallback):this.onLoadCallback()},_onUpdate=()=>{for(let a of this.triggers)if(a.trigger()&&!a.fired){if(a.events)for(let b of a.events)if(null!=b.targetId){let a=document.getElementById(b.targetId);if(null==a){Log("Could not activate trigger for element \""+b.targetId+"\" because that element was not found.");continue}if(null!=b.addClass){a.classList.add(b.addClass),Log("Fired trigger for "+b.targetId);continue}if(null!=b.removeClass){a.classList.remove(b.removeClass);continue}}"function"==typeof a.then&&(Log("Fired post-trigger function"),a.then()),a.fired=!0}},_registerTrigger=a=>{var b=!0;if(null!=a.events){b=!1;for(var c of a.events){if(null==c.targetId)return Log("Could not register trigger because no target element ID was specified."),!1;if(null==document.getElementById(c.targetId))return Log("Could not register trigger for element \""+c.targetId+"\" because that element was not found."),!1;null!=c.addClass||null!=c.removeClass||null!=c.appendChild?b=!0:Log("Could not register trigger for element \""+c.targetId+"\" because the method passed has not been implemented.")}}if(b){var d=a;d.fired=!1,this.triggers.push(d),Log("Registered trigger: "+d),console.log(d)}},_remember=(a,b=!0)=>{"string"==typeof a?this.switches.push({switch:a,state:b}):Log("Could not register switch '"+a+"' because that is not a valid string.")},_recall=a=>{for(let b of this.switches)if(b.switch==a)return b.state;return null},{onLoad:function(a){return onLoadCallback=a,_onLoad()},onUpdate:function(){return _onUpdate()},registerTrigger:function(a){return _registerTrigger(a)},begin:function(){return onLoadCallback()},remember:function(a,b=!0){return _remember(a,b)},recall:function(a){return _recall(a)},__getTriggers:function(){return this.triggers}}}