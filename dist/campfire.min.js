const DEBUG=!0;function Log(a){DEBUG&&console.log("[ Campfire.js ] "+a)}function Campfire(){return this.triggers=[],this.onLoadCallback=function(){},_OnLoad=()=>{this.onLoadCallback(),"complete"!==document.readyState&&("loading"===document.readyState||document.documentElement.doScroll)?document.addEventListener("DOMContentLoaded",this.onLoadCallback):this.onLoadCallback()},_OnUpdate=()=>{for(let a of this.triggers)if(a.trigger()&&!a.fired){if(a.events)for(let b of a.events)if(null!=b.targetId){let a=document.getElementById(b.targetId);if(null==a){Log("Could not activate trigger for element \""+b.targetId+"\" because that element was not found.");continue}if(null!=b.addClass){a.classList.add(b.addClass),Log("Fired trigger for "+b.targetId);continue}if(null!=b.removeClass){a.classList.remove(b.removeClass);continue}}"function"==typeof a.then&&(Log("Fired post-trigger function"),a.then()),a.fired=!0}},_RegisterTrigger=a=>{var b=!0;if(null!=a.events){b=!1;for(var c of a.events){if(null==c.targetId)return Log("Could not register trigger because no target element ID was specified."),!1;if(null==document.getElementById(c.targetId))return Log("Could not register trigger for element \""+c.targetId+"\" because that element was not found."),!1;null!=c.addClass||null!=c.removeClass||null!=c.appendChild?b=!0:Log("Could not register trigger for element \""+c.targetId+"\" because the method passed has not been implemented.")}}if(b){var d=a;d.fired=!1,this.triggers.push(d),Log("Registered trigger: "+d),console.log(d)}},{OnLoad:function(a){this.onLoadCallback=a},OnUpdate:function(){return _OnUpdate()},RegisterTrigger:function(a){return _RegisterTrigger(a)},Begin:function(){return this.onLoadCallback()},__getTriggers:function(){return this.triggers}}}